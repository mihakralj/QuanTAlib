#!csharp

#r "nuget:YahooFinanceApi;"
//#r "nuget:QuantLib;"
#r "..\Algos\bin\Debug\net6.0\QuantLib.dll"
using YahooFinanceApi;
using QuantLib;

#!csharp

TBars bars = new();
SMA_Series sma = new(bars.close, 10);

var history = await Yahoo.GetHistoricalAsync("AAPL", DateTime.Today.AddDays(-20), DateTime.Now, Period.Daily);
foreach (var i in history) bars.Add(i.DateTime, i.Open, i.High, i.Low, i.Close, i.Volume);

sma.v
